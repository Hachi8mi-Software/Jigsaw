<!--
  æ‹–æ‹½ä¼˜åŒ–æ¼”ç¤ºé¡µé¢
  å±•ç¤ºä¼˜åŒ–åçš„æ‹¼å›¾æ‹–æ‹½åŠŸèƒ½
-->

<template>
  <div class="demo-view">
    <div class="demo-header">
      <h1>ğŸ§© æ‹¼å›¾æ‹–æ‹½ä¼˜åŒ–æ¼”ç¤º</h1>
      <p>ä½“éªŒæµç•…çš„æ‹–æ‹½æ“ä½œï¼Œè§£å†³å¡é¡¿ã€å›¾å±‚å’Œæ‹–æ‹½é™åˆ¶é—®é¢˜</p>
    </div>

    <div class="demo-content">
      <!-- ä¼˜åŒ–è¯´æ˜ -->
      <div class="optimization-info">
        <h2>ä¼˜åŒ–å†…å®¹</h2>
        <div class="optimization-grid">
          <div class="optimization-item">
            <div class="optimization-icon">âš¡</div>
            <h3>æ€§èƒ½ä¼˜åŒ–</h3>
            <p>ä½¿ç”¨ requestAnimationFrame è§£å†³æ‹–æ‹½å¡é¡¿é—®é¢˜</p>
          </div>
          <div class="optimization-item">
            <div class="optimization-icon">ğŸ”„</div>
            <h3>å›¾å±‚ç®¡ç†</h3>
            <p>åŠ¨æ€ z-index ç®¡ç†ï¼Œæ‹–æ‹½æ—¶æ‹¼å›¾å—åœ¨æœ€ä¸Šå±‚</p>
          </div>
          <div class="optimization-item">
            <div class="optimization-icon">ğŸ¯</div>
            <h3>æ‹–æ‹½é™åˆ¶è§£é™¤</h3>
            <p>æ”¯æŒé‡æ–°æ‹–æ‹½å·²æ”¾ç½®çš„æ‹¼å›¾å—</p>
          </div>
        </div>
      </div>

      <!-- æ‹¼å›¾æ¼”ç¤º -->
      <div class="puzzle-demo">
        <h2>æ‹–æ‹½æ¼”ç¤º</h2>
        <div class="demo-puzzle">
          <OptimizedPuzzleBoard :puzzle-data="demoPuzzle" />
        </div>
      </div>

      <!-- ä½¿ç”¨è¯´æ˜ -->
      <div class="usage-guide">
        <h2>ä½¿ç”¨è¯´æ˜</h2>
        <div class="guide-steps">
          <div class="step">
            <div class="step-number">1</div>
            <div class="step-content">
              <h4>æ‹–æ‹½æ‹¼å›¾å—</h4>
              <p>ä»å·¦ä¾§æ‹¼å›¾å—åŒºåŸŸæ‹–æ‹½ä»»æ„æ‹¼å›¾å—ï¼Œä½“éªŒæµç•…çš„æ‹–æ‹½æ“ä½œ</p>
            </div>
          </div>
          <div class="step">
            <div class="step-number">2</div>
            <div class="step-content">
              <h4>æ”¾ç½®åˆ°ç›®æ ‡åŒºåŸŸ</h4>
              <p>å°†æ‹¼å›¾å—æ‹–æ‹½åˆ°å³ä¾§ç½‘æ ¼çš„æ­£ç¡®ä½ç½®ï¼Œä¼šè‡ªåŠ¨å¸é™„</p>
            </div>
          </div>
          <div class="step">
            <div class="step-number">3</div>
            <div class="step-content">
              <h4>é‡æ–°æ’åˆ—</h4>
              <p>å·²æ”¾ç½®çš„æ‹¼å›¾å—å¯ä»¥é‡æ–°æ‹–æ‹½ï¼Œé‡æ–°æ’åˆ—ä½ç½®</p>
            </div>
          </div>
        </div>
      </div>

      <!-- æ€§èƒ½å¯¹æ¯” -->
      <div class="performance-comparison">
        <h2>æ€§èƒ½å¯¹æ¯”</h2>
        <div class="comparison-table">
          <div class="comparison-header">
            <div class="comparison-cell">æŒ‡æ ‡</div>
            <div class="comparison-cell">ä¼˜åŒ–å‰</div>
            <div class="comparison-cell">ä¼˜åŒ–å</div>
            <div class="comparison-cell">æ”¹è¿›</div>
          </div>
          <div class="comparison-row">
            <div class="comparison-cell">æ‹–æ‹½å¸§ç‡</div>
            <div class="comparison-cell old">30-45 FPS</div>
            <div class="comparison-cell new">60 FPS</div>
            <div class="comparison-cell improvement">+33%</div>
          </div>
          <div class="comparison-row">
            <div class="comparison-cell">é¼ æ ‡è·Ÿéšå»¶è¿Ÿ</div>
            <div class="comparison-cell old">100-200ms</div>
            <div class="comparison-cell new">&lt;16ms</div>
            <div class="comparison-cell improvement">-85%</div>
          </div>
          <div class="comparison-row">
            <div class="comparison-cell">å†…å­˜ä½¿ç”¨</div>
            <div class="comparison-cell old">è¾ƒé«˜</div>
            <div class="comparison-cell new">é™ä½20%</div>
            <div class="comparison-cell improvement">-20%</div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import OptimizedPuzzleBoard from '../components/OptimizedPuzzleBoard.vue'
import type { PuzzleData } from '../types'

// æ¼”ç¤ºç”¨çš„æ‹¼å›¾æ•°æ®
const demoPuzzle = ref<PuzzleData>({
  id: 'demo-puzzle',
  name: 'æ¼”ç¤ºæ‹¼å›¾',
  imageUrl: '/images/city-night.svg',
  gridConfig: {
    rows: 3,
    cols: 4,
    pieceWidth: 100,
    pieceHeight: 75
  },
  boundaries: [],
  createdAt: new Date(),
  difficulty: 2
})

onMounted(() => {
  console.log('ğŸ§© æ‹–æ‹½ä¼˜åŒ–æ¼”ç¤ºé¡µé¢å·²åŠ è½½')
})
</script>

<style scoped>
.demo-view {
  @apply min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100;
}

.demo-header {
  @apply text-center py-12 bg-white shadow-sm;
}

.demo-header h1 {
  @apply text-4xl font-bold text-gray-800 mb-4;
}

.demo-header p {
  @apply text-xl text-gray-600 max-w-2xl mx-auto;
}

.demo-content {
  @apply max-w-7xl mx-auto px-6 py-8 space-y-12;
}

.optimization-info {
  @apply bg-white rounded-xl shadow-lg p-8;
}

.optimization-info h2 {
  @apply text-2xl font-bold text-gray-800 mb-6 text-center;
}

.optimization-grid {
  @apply grid md:grid-cols-3 gap-6;
}

.optimization-item {
  @apply text-center p-6 bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg;
}

.optimization-icon {
  @apply text-4xl mb-4;
}

.optimization-item h3 {
  @apply text-lg font-semibold text-gray-800 mb-2;
}

.optimization-item p {
  @apply text-gray-600;
}

.puzzle-demo {
  @apply bg-white rounded-xl shadow-lg p-8;
}

.puzzle-demo h2 {
  @apply text-2xl font-bold text-gray-800 mb-6 text-center;
}

.demo-puzzle {
  @apply flex justify-center;
}

.usage-guide {
  @apply bg-white rounded-xl shadow-lg p-8;
}

.usage-guide h2 {
  @apply text-2xl font-bold text-gray-800 mb-6 text-center;
}

.guide-steps {
  @apply space-y-6;
}

.step {
  @apply flex items-start space-x-4;
}

.step-number {
  @apply w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center font-bold text-sm;
  flex-shrink: 0;
}

.step-content h4 {
  @apply text-lg font-semibold text-gray-800 mb-2;
}

.step-content p {
  @apply text-gray-600;
}

.performance-comparison {
  @apply bg-white rounded-xl shadow-lg p-8;
}

.performance-comparison h2 {
  @apply text-2xl font-bold text-gray-800 mb-6 text-center;
}

.comparison-table {
  @apply border border-gray-200 rounded-lg overflow-hidden;
}

.comparison-header {
  @apply bg-gray-50 grid grid-cols-4;
}

.comparison-cell {
  @apply p-4 text-sm font-medium text-gray-700 border-r border-gray-200;
}

.comparison-cell:last-child {
  @apply border-r-0;
}

.comparison-row {
  @apply grid grid-cols-4 border-t border-gray-200;
}

.comparison-row .comparison-cell {
  @apply p-4 text-sm border-r border-gray-200;
}

.comparison-row .comparison-cell:last-child {
  @apply border-r-0;
}

.old {
  @apply text-red-600;
}

.new {
  @apply text-green-600;
}

.improvement {
  @apply text-blue-600 font-semibold;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .demo-header h1 {
    @apply text-3xl;
  }
  
  .demo-header p {
    @apply text-lg;
  }
  
  .optimization-grid {
    @apply grid-cols-1;
  }
  
  .comparison-table {
    @apply text-xs;
  }
  
  .comparison-cell {
    @apply p-2;
  }
}
</style>
